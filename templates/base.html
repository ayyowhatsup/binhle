{% load static %}
{% load humanize %}
<!DOCTYPE html>
<html lang="en">

<head>
  <title>{{title}}</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />

  <link rel="icon" href="{% static 'tengicungdc.svg' %}" sizes="any" type="image/svg+xml" />
  <link rel="stylesheet" href="{% static 'assets/vendor/font-awesome/css/fontawesome-all.min.css' %}" />
  <link rel="stylesheet" href="{% static 'assets/vendor/flaticon/font/flaticon.css' %}" />
  <link rel="stylesheet" href="{% static 'assets/vendor/animate.css/animate.css' %}" />
  <link rel="stylesheet" href="{% static 'assets/vendor/bootstrap-select/dist/css/bootstrap-select.min.css' %}" />
  <link rel="stylesheet" href="{% static 'assets/vendor/slick-carousel/slick/slick.css' %}" />
  <link rel="stylesheet"
    href="{% static 'assets/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css' %}" />

  <link rel="stylesheet" href="{% static 'assets/css/theme.css' %}" />
  <link rel="stylesheet" href="{% static 'assets/css/custom.css' %}" />

  <script src="{% static 'assets/vendor/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'assets/vendor/jquery-migrate/dist/jquery-migrate.min.js' %}"></script>
  <script src="{% static 'assets/vendor/popper.js/dist/umd/popper.min.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap/bootstrap.min.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap-select/dist/js/bootstrap-select.min.js' %}"></script>
  <script src="{% static 'assets/vendor/slick-carousel/slick/slick.min.js' %}"></script>
  <script src="{% static 'assets/vendor/multilevel-sliding-mobile-menu/dist/jquery.zeynep.js' %}"></script>
  <script
    src="{% static 'assets/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js' %}"></script>

  <script src="{% static 'assets/js/hs.core.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.unfold.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.malihu-scrollbar.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.slick-carousel.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.selectpicker.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.show-animation.js' %}"></script>
  <script src="{% static 'assets/js/components/hs.quantity-counter.js' %}"></script>


</head>

<body>
  <div class="loading-here"></div>
  <header id="site-header" class="site-header__v9 site-header__white-text">
    <div class="masthead">
      <div class="container pt-3 pt-md-4 pb-3 pb-md-5">
        <div class="d-flex align-items-center position-relative flex-wrap">
          <div class="site-branding pr-7">
            <a href="{% url 'home_page' %}" class="d-block mb-1">
              <svg width="94.94" height="23.19" viewBox="0 0 94.94 23.19" xmlns="http://www.w3.org/2000/svg">
                <g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#ab8787"
                  strokeWidth="0.25mm" fill="#d945cc" style="stroke: #ab8787; stroke-width: 0.25mm; fill: #d945cc">
                  <path
                    d="M 45.78 22.83 L 43.08 22.83 L 43.08 0.63 L 45.78 0.63 L 45.78 9.72 Q 46.62 8.49 47.91 7.68 A 5.272 5.272 0 0 1 50.047 6.927 A 6.779 6.779 0 0 1 50.94 6.87 Q 52.956 6.87 54.194 7.797 A 3.978 3.978 0 0 1 54.885 8.46 A 5.521 5.521 0 0 1 55.966 10.673 Q 56.162 11.466 56.187 12.393 A 10.129 10.129 0 0 1 56.19 12.66 L 56.19 22.83 L 53.49 22.83 L 53.49 12.96 A 5.887 5.887 0 0 0 53.389 11.838 Q 53.21 10.913 52.71 10.26 A 2.526 2.526 0 0 0 50.863 9.256 A 3.594 3.594 0 0 0 50.52 9.24 A 3.969 3.969 0 0 0 48.506 9.8 A 5.276 5.276 0 0 0 47.895 10.215 Q 46.65 11.19 45.78 12.51 L 45.78 22.83 Z M 28.02 22.83 L 25.32 22.83 L 25.32 7.23 L 27.93 7.23 L 27.93 9.84 Q 28.77 8.58 30.075 7.725 A 5.195 5.195 0 0 1 32.207 6.938 A 6.789 6.789 0 0 1 33.18 6.87 Q 35.196 6.87 36.434 7.797 A 3.978 3.978 0 0 1 37.125 8.46 A 5.521 5.521 0 0 1 38.206 10.673 Q 38.402 11.466 38.427 12.393 A 10.129 10.129 0 0 1 38.43 12.66 L 38.43 22.83 L 35.73 22.83 L 35.73 12.96 A 5.779 5.779 0 0 0 35.627 11.838 Q 35.496 11.173 35.196 10.649 A 3.29 3.29 0 0 0 34.935 10.26 A 2.574 2.574 0 0 0 33.052 9.254 A 3.618 3.618 0 0 0 32.73 9.24 A 3.937 3.937 0 0 0 30.675 9.829 A 5.206 5.206 0 0 0 30.12 10.215 Q 28.89 11.19 28.02 12.51 L 28.02 22.83 Z M 2.52 21.54 L 2.52 22.83 L 0 22.83 L 0 0.63 L 2.7 0.63 L 2.7 8.85 A 4.653 4.653 0 0 1 3.266 8.307 Q 3.571 8.058 3.952 7.814 A 9.994 9.994 0 0 1 4.455 7.515 A 4.975 4.975 0 0 1 6.024 6.968 A 6.727 6.727 0 0 1 7.2 6.87 Q 9 6.87 10.575 7.815 A 6.699 6.699 0 0 1 12.728 9.905 A 8.239 8.239 0 0 1 13.11 10.545 A 7.705 7.705 0 0 1 13.859 12.657 Q 14.05 13.588 14.068 14.657 A 13.282 13.282 0 0 1 14.07 14.88 A 9.995 9.995 0 0 1 13.864 16.946 A 8.325 8.325 0 0 1 13.47 18.27 A 8.81 8.81 0 0 1 12.522 20.071 A 7.645 7.645 0 0 1 11.865 20.895 A 7.468 7.468 0 0 1 10.026 22.369 A 6.991 6.991 0 0 1 9.6 22.59 A 6.002 6.002 0 0 1 7.39 23.178 A 5.763 5.763 0 0 1 7.02 23.19 Q 5.67 23.19 4.485 22.695 A 9.082 9.082 0 0 1 3.494 22.213 Q 2.947 21.901 2.52 21.54 Z M 92.85 16.14 L 81.93 16.14 A 7.226 7.226 0 0 0 82.272 17.648 Q 82.673 18.791 83.46 19.56 A 4.243 4.243 0 0 0 85.747 20.703 A 6.006 6.006 0 0 0 86.79 20.79 A 11.019 11.019 0 0 0 88.073 20.719 A 8.273 8.273 0 0 0 89.22 20.505 Q 90.3 20.22 91.29 19.77 L 91.92 22.08 A 12.231 12.231 0 0 1 90.62 22.568 A 15.559 15.559 0 0 1 89.49 22.875 A 11.674 11.674 0 0 1 87.962 23.121 A 15.608 15.608 0 0 1 86.46 23.19 A 8.495 8.495 0 0 1 84.136 22.888 A 6.332 6.332 0 0 1 81.135 21.045 A 7.056 7.056 0 0 1 79.573 18.183 Q 79.17 16.784 79.17 15.03 A 10.608 10.608 0 0 1 79.42 12.683 A 8.652 8.652 0 0 1 80.055 10.845 A 7.393 7.393 0 0 1 81.56 8.72 A 6.866 6.866 0 0 1 82.53 7.935 Q 84.12 6.87 86.22 6.87 A 8.566 8.566 0 0 1 87.861 7.019 Q 88.864 7.215 89.665 7.668 A 5.164 5.164 0 0 1 89.955 7.845 Q 91.44 8.82 92.19 10.47 A 8.456 8.456 0 0 1 92.918 13.429 A 10.03 10.03 0 0 1 92.94 14.1 A 22.561 22.561 0 0 1 92.853 16.109 A 20.779 20.779 0 0 1 92.85 16.14 Z M 69.69 17.94 L 69.69 0.63 L 72.39 0.63 L 72.39 17.67 Q 72.39 18.642 72.633 19.312 A 2.392 2.392 0 0 0 73.065 20.07 A 2.209 2.209 0 0 0 74.44 20.813 A 3.217 3.217 0 0 0 74.94 20.85 Q 75.51 20.85 76.065 20.715 A 6.658 6.658 0 0 0 76.504 20.593 Q 76.785 20.504 77.01 20.4 L 77.67 22.59 A 5.445 5.445 0 0 1 77.189 22.775 Q 76.807 22.903 76.335 23.01 A 7.145 7.145 0 0 1 75.388 23.156 A 9.154 9.154 0 0 1 74.58 23.19 A 6.259 6.259 0 0 1 73.113 23.024 A 5.263 5.263 0 0 1 72.09 22.665 A 3.805 3.805 0 0 1 70.493 21.235 A 4.757 4.757 0 0 1 70.335 20.97 Q 69.69 19.8 69.69 17.94 Z M 20.52 22.83 L 17.82 22.83 L 17.82 7.23 L 20.52 7.23 L 20.52 22.83 Z M 2.7 11.25 L 2.7 19.59 A 5.397 5.397 0 0 0 3.789 20.246 A 6.541 6.541 0 0 0 4.32 20.46 A 5.839 5.839 0 0 0 6.169 20.789 A 6.611 6.611 0 0 0 6.3 20.79 A 5.097 5.097 0 0 0 7.805 20.575 A 4.424 4.424 0 0 0 8.895 20.07 A 4.785 4.785 0 0 0 10.44 18.447 A 5.894 5.894 0 0 0 10.665 18.03 A 6.26 6.26 0 0 0 11.219 16.216 A 8.243 8.243 0 0 0 11.31 14.97 Q 11.31 13.234 10.71 11.973 A 5.202 5.202 0 0 0 10.665 11.88 Q 10.02 10.59 8.955 9.9 Q 7.89 9.21 6.6 9.21 A 4.422 4.422 0 0 0 4.912 9.529 A 4.216 4.216 0 0 0 4.275 9.855 Q 3.24 10.5 2.7 11.25 Z M 81.9 13.95 L 90.45 13.95 A 7.307 7.307 0 0 0 90.329 12.574 Q 90.18 11.799 89.849 11.192 A 3.727 3.727 0 0 0 89.31 10.44 A 3.747 3.747 0 0 0 87.222 9.307 A 5.519 5.519 0 0 0 86.16 9.21 Q 84.42 9.21 83.28 10.425 Q 82.14 11.64 81.9 13.95 Z M 22.62 2.52 L 16.62 5.58 L 15.69 3.75 L 21.36 0 L 22.62 2.52 Z"
                    vectorEffect="non-scaling-stroke" />
                </g>
              </svg>
            </a>
          </div>
          <div class="site-search ml-xl-0 ml-md-auto w-r-100 flex-grow-1 mr-md-5 mt-2 mt-md-0 order-1 order-md-0">
            <form id="searchForm" class="form-inline my-2 my-xl-0" method="get" action="{% url 'shop' %}">
              <div class="input-group input-group-borderless w-100">
                <div class="input-group-prepend border-right mr-0 d-none d-xl-block">
                  <select
                    class="custom-select pr-7 pl-4 rounded-right-0 height-5 shadow-none border-0 text-dark bg-gray-200"
                    id="inputGroupSelect01">
                    <option value="" selected>Mọi thể loại</option>
                    {% for category in categories %}
                    <option value="{{category.slug}}">{{category.name}}</option>
                    {% endfor %}
                  </select>
                </div>
                <input type="search" name="q" class="form-control px-3 bg-gray-200 bg-focus__1"
                  placeholder="Tìm kiếm sách theo tên..." aria-label="Amount (to the nearest dollar)">
                <div class="input-group-append">
                  <button class="btn btn-primary px-3 py-2" type="submit"><i
                      class="mx-1 glph-icon flaticon-loupe text-white"></i></button>
                </div>
              </div>
            </form>
          </div>
          <div class="d-flex align-items-center mt-lg-3 mt-xl-0">
            {% if request.user.is_authenticated %}
            <a href="{% url 'account' %}">
              <div class="d-flex align-items-center text-white font-size-2 text-lh-sm">
                <i class="flaticon-user font-size-4 text-dark"></i>
                <div class="ml-2 d-none d-lg-block">
                  <span class="text-secondary-gray-1080 font-size-1">
                    Xin chào, {% if user.name%} {{user.name}} {% else%} {{user.email}} {% endif %}
                  </span>
                  <div class="text-secondary-black-100 font-size-2">Tài khoản</div>
                </div>
              </div>
            </a>
            {% else %}
            <a id="sidebarNavToggler" href="javascript:;" role="button" aria-controls="sidebarContent"
              aria-haspopup="true" aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false"
              data-unfold-target="#sidebarContent" data-unfold-type="css-animation" data-unfold-overlay='{
                  "className": "u-sidebar-bg-overlay",
                  "background": "rgba(0, 0, 0, .7)",
                  "animationSpeed": 500
              }' data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight"
              data-unfold-duration="500">
              <div class="d-flex align-items-center text-white font-size-2 text-lh-sm">
                <i class="flaticon-user font-size-4 text-dark"></i>
                <div class="ml-2 d-none d-lg-block">
                  <span class="text-secondary-gray-1080 font-size-1">Đăng nhập</span>
                  <div class="text-secondary-black-100 font-size-2">Tài khoản</div>
                </div>
              </div>
            </a>
            {% endif %}

            <a id="sidebarNavToggler1" href="javascript:;" role="button" class="ml-4 d-none d-lg-block"
              aria-controls="sidebarContent1" aria-haspopup="true" aria-expanded="false" data-unfold-event="click"
              data-unfold-hide-on-scroll="false" data-unfold-target="#sidebarContent1" data-unfold-type="css-animation"
              data-unfold-overlay='{
                                                "className": "u-sidebar-bg-overlay",
                                                "background": "rgba(0, 0, 0, .7)",
                                                "animationSpeed": 500
                                            }' data-unfold-animation-in="fadeInRight"
              data-unfold-animation-out="fadeOutRight" data-unfold-duration="500">
              <div class="d-flex align-items-center text-white font-size-2 text-lh-sm position-relative">
                <span
                  class="position-absolute width-16 height-16 rounded-circle d-flex align-items-center justify-content-center bg-dark-1 text-white font-size-n9 left-0 top-0 ml-n2 mt-n1"
                  id="cart_items_count_header">{% if cart_items %} {{cart_items_count}} {% else %} 0 {% endif %}</span>
                <i class="flaticon-icon-126515 font-size-4 text-secondary-black-100"></i>
                <div class="ml-2">
                  <span class="text-secondary-gray-1080 font-size-1">Giỏ hàng</span>
                  <div class="font-size-2 text-secondary-black-100" id="cart_subtotal_header">{% if cart_items %}
                    {{cart_subtotal | floatformat | intcomma }} {% else %} 0 {% endif %} ₫</div>
                </div>
              </div>
            </a>

          </div>
        </div>
      </div>
      <div class="container">
        <div class="bg-primary rounded-md d-none d-md-block">
          <div class="d-flex align-items-center justify-content-center position-relative">
            <div class="site-navigation mr-auto d-none d-xl-block">
              <ul class="nav pl-xl-4">
                <li class="nav-item"><a href="{%url 'home_page'%}"
                    class="nav-link link-black-100 mx-3 px-0 py-3 font-size-2 font-weight-medium">Trang chủ</a></li>
                <li class="nav-item dropdown">
                  <a id="categoryDropdownInvoker" href=""
                    class="dropdown-toggle nav-link link-black-100 mx-3 px-0 py-3 font-size-2 font-weight-medium d-flex align-items-center"
                    aria-haspopup="true" aria-expanded="false" data-unfold-event="hover"
                    data-unfold-target="#categoryDropdownMenu" data-unfold-type="css-animation"
                    data-unfold-duration="200" data-unfold-delay="50" data-unfold-hide-on-scroll="true"
                    data-unfold-animation-in="slideInUp" data-unfold-animation-out="fadeOut">
                    Danh mục
                  </a>
                  <ul id="categoryDropdownMenu"
                    class="dropdown-unfold dropdown-menu font-size-2 rounded-0 border-gray-900"
                    aria-labelledby="homeDropdownInvoker">
                    {% for category in categories %}
                    <li><a href="{% url 'category_single' category.slug %}"
                        class="dropdown-item link-black-100">{{category.name}}</a></li>
                    {% endfor %}
                  </ul>
                </li>
                <li class="nav-item"><a href="{%url 'shop'%}"
                    class="nav-link link-black-100 mx-3 px-0 py-3 font-size-2 font-weight-medium">Sản phẩm</a></li>
              </ul>
            </div>
            <div class="secondary-navigation">
              <ul class="nav pr-xl-4">
                {% if request.user.is_superuser %}
                <li class="nav-item"><a target="_blank" href="{% url 'admin:index' %}"
                    class="nav-link text-white mx-2 px-0 py-3 font-size-2 font-weight-medium">Quản trị viên</a></li>
                {% endif %}
                {% if request.user.is_superuser %}
                <li class="nav-item"><a target="_blank"
                    href="https://app.powerbi.com/reportEmbed?reportId=65ef6a19-fc87-493d-83b7-b74665a1fed1&autoAuth=true&ctid=e7572e92-7aee-4713-a3c4-ba64888ad45f&fbclid=IwAR0-Z7WiziQ1xd6X0RT9WIg1yrPKBjd8Aj6jDw-YQf6eKcyRm8l7xiohRME"
                    class="nav-link text-white mx-2 px-0 py-3 font-size-2 font-weight-medium">Xem báo cáo</a></li>
                {% endif %}
                <li class="nav-item"><a href="#"
                    class="nav-link text-white mx-2 px-0 py-3 font-size-2 font-weight-medium">Về chúng tôi</a></li>
                <li class="nav-item"><a href="{% url 'order_tracking' %}"
                    class="nav-link text-white mx-2 px-0 py-3 font-size-2 font-weight-medium">Theo dõi đơn hàng</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
  {% if request.user.is_anonymous %}
  <aside id="sidebarContent" class="u-sidebar u-sidebar__lg" aria-labelledby="sidebarNavToggler">
    <div class="u-sidebar__scroller">
      <div class="u-sidebar__container">
        <div class="u-header-sidebar__footer-offset">

          <div class="d-flex align-items-center position-absolute top-0 right-0 z-index-2 mt-5 mr-md-6 mr-4">
            <button type="button" class="close ml-auto" aria-controls="sidebarContent" aria-haspopup="true"
              aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false"
              data-unfold-target="#sidebarContent" data-unfold-type="css-animation"
              data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight"
              data-unfold-duration="500">
              <span aria-hidden="true">Đóng <i class="fas fa-times ml-2"></i></span>
            </button>
          </div>


          <div class="js-scrollbar u-sidebar__body">
            <div class="u-sidebar__content u-header-sidebar__content">
              <div>
                <div id="login" data-target-group="idForm">

                  <header class="border-bottom px-4 px-md-6 py-4">
                    <h2 class="font-size-3 mb-0 d-flex align-items-center"><i
                        class="flaticon-user mr-3 font-size-5"></i>Tài khoản</h2>
                  </header>

                  <form id="loginform" action="{% url 'login' %}" method="post" class="p-4 p-md-6">
                    {% csrf_token %}
                    <div class="form-group mb-4">
                      <div class="js-form-message js-focus-state">
                        <label id="signinEmailLabel" class="form-label" for="signinEmail">Email *</label>
                        <input type="email" class="form-control rounded-0 height-4 px-4" name="email" id="signinEmail"
                          aria-label="creativelayers088@gmail.com" aria-describedby="signinEmailLabel" required>
                      </div>
                    </div>


                    <div class="form-group mb-4">
                      <div class="js-form-message js-focus-state">
                        <label id="signinPasswordLabel" class="form-label" for="signinPassword">Mật khẩu *</label>
                        <input type="password" class="form-control rounded-0 height-4 px-4" name="password"
                          id="signinPassword" placeholder="" aria-label="" aria-describedby="signinPasswordLabel"
                          required>
                      </div>
                    </div>
                    <div class="mb-5 error-login text-primary font-weight-medium">{{error_login}}</div>
                    <div class="mb-4d75">
                      <button type="submit" class="btn btn-block py-3 rounded-0 btn-dark">Đăng nhập</button>
                    </div>
                    <div class="mb-2">
                      <a href="javascript:;"
                        class="js-animation-link btn btn-block py-3 rounded-0 btn-outline-dark font-weight-medium"
                        data-target="#signup" data-link-group="idForm" data-animation-in="fadeIn">Tạo tài khoản</a>
                    </div>
                    <div class="mb-2 font-size-2">Hoặc</div>
                    <div id="g_id_onload"
                      data-client_id="389152527052-uqcfa7p4igcl8tgc4tcf5ou5n98ibkqt.apps.googleusercontent.com"
                      data-context="signin" data-ux_mode="popup" data-login_uri="{% url 'validate' %}"
                      data-auto_prompt="false">
                    </div>

                    <div class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="filled_blue"
                      data-text="signin_with" data-size="large" data-logo_alignment="left">
                    </div>
                  </form>
                </div>

                <div id="signup" style="display: none; opacity: 0;" data-target-group="idForm">

                  <header class="border-bottom px-4 px-md-6 py-4">
                    <h2 class="font-size-3 mb-0 d-flex align-items-center"><i
                        class="flaticon-resume mr-3 font-size-5"></i>Tạo tài khoản</h2>
                  </header>

                  <form id="signupform" action="{% url 'register' %}" method="post" class="p-4 p-md-6">
                    {% csrf_token %}
                    <div class="form-group mb-4">
                      <div class="js-form-message js-focus-state">
                        <label id="signinEmailLabel1" class="form-label" for="signinEmail1">Email *</label>
                        <input type="email" class="form-control rounded-0 height-4 px-4" name="email" id="signinEmail1"
                          aria-label="creativelayers088@gmail.com" aria-describedby="signinEmailLabel1" required>
                      </div>
                    </div>


                    <div class="form-group mb-4">
                      <div class="js-form-message js-focus-state">
                        <label id="signinPasswordLabel1" class="form-label" for="signinPassword1">Mật khẩu *</label>
                        <input type="password" class="form-control rounded-0 height-4 px-4" name="password"
                          id="signinPassword1" aria-label="" aria-describedby="signinPasswordLabel1" required>
                      </div>
                    </div>


                    <div class="form-group mb-4">
                      <div class="js-form-message js-focus-state">
                        <label id="signupConfirmPasswordLabel" class="form-label" for="signupConfirmPassword">Nhập lại
                          mật khẩu *</label>
                        <input type="password" class="form-control rounded-0 height-4 px-4" name="confirm_password"
                          id="signupConfirmPassword" aria-label="" aria-describedby="signupConfirmPasswordLabel"
                          required>
                      </div>
                    </div>
                    <div class="mb-5 error-register text-primary font-weight-medium"></div>
                    <div class="mb-3">
                      <button type="submit" class="btn btn-block py-3 rounded-0 btn-dark">Tạo tài khoản</button>
                    </div>
                    <div class="text-center mb-4">
                      <span class="small text-muted">Đã có tài khoản?</span>
                      <a class="js-animation-link small btn-nav-login" href="javascript:;" data-target="#login"
                        data-link-group="idForm" data-animation-in="fadeIn">Đăng nhập
                      </a>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </aside>
  {% endif %}

  <aside id="sidebarContent1" class="u-sidebar u-sidebar__xl" aria-labelledby="sidebarNavToggler1">
    <div class="u-sidebar__scroller js-scrollbar">
      <div class="u-sidebar__container">
        <div class="u-header-sidebar__footer-offset">

          <div class="d-flex align-items-center position-absolute top-0 right-0 z-index-2 mt-5 mr-md-6 mr-4">
            <button type="button" class="close ml-auto" aria-controls="sidebarContent1" aria-haspopup="true"
              aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false"
              data-unfold-target="#sidebarContent1" data-unfold-type="css-animation"
              data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight"
              data-unfold-duration="500">
              <span aria-hidden="true">Close <i class="fas fa-times ml-2"></i></span>
            </button>
          </div>


          <div class="u-sidebar__body">
            <div class="u-sidebar__content u-header-sidebar__content">

              <header class="border-bottom px-4 px-md-6 py-4">
                <h2 class="font-size-3 mb-0 d-flex align-items-center" id="cart_items_count"><i
                    class="flaticon-icon-126515 mr-3 font-size-5"></i>Giỏ hàng của bạn ({% if cart_items %}
                  {{cart_items_count}} {% else %} 0 {% endif %})</h2>
              </header>
              <div id="cart_items_content">
                {% if cart_items %}
                {% for cart_item in cart_items %}
                <div class="px-4 py-5 px-md-6 border-bottom">
                  <div class="media">
                    <a href="{% url 'product_single' cart_item.product.slug %}" class="d-block"><img
                        src="{{cart_item.product.image.url}}" width="120" class="img-fluid" alt="image-description"></a>
                    <div class="media-body ml-4d875">
                      <div class="text-primary text-uppercase font-size-1 mb-1 text-truncate"><a
                          href="{% url 'product_single' cart_item.product.slug %}">SÁCH</a></div>
                      <h2 class="woocommerce-loop-product__title h6 text-lh-md mb-1 text-height-2 crop-text-2">
                        <a href="{% url 'product_single' cart_item.product.slug %}"
                          class="text-dark">{{cart_item.product.name}}</a>
                      </h2>
                      <div class="font-size-2 mb-1 text-truncate">
                        {% with authors=cart_item.product.authors.all %}
                        {% for author in authors %}
                        <a href="{% url 'author_single' author.slug %}" class="text-gray-700">{{author.name}}</a>
                        {% if not forloop.last %}<span>, </span>{% endif %}
                        {% endfor %}
                        {% endwith %}
                      </div>
                      <div class="price d-flex align-items-center font-weight-medium font-size-3">
                        <span class="woocommerce-Price-amount amount">{{cart_item.quantity}} x {{cart_item.product.price
                          | floatformat | intcomma}}<span class="woocommerce-Price-currencySymbol"> ₫</span></span>
                      </div>
                    </div>
                    <form action="{% url 'cart' %}" class="mt-3 ml-3">
                      {% csrf_token %}
                      <input type="hidden" name="product_slug" value="{{cart_item.product.slug}}" />
                      <input type="hidden" name="operation" value="remove" />
                      <input type="hidden" name="type" value="ajax" />
                      <div class="btn text-dark remove-from-cart"><i class="fas fa-times"></i></div>
                    </form>
                  </div>
                </div>
                {% endfor %}
                <div class="px-4 py-5 px-md-6 d-flex justify-content-between align-items-center font-size-3">
                  <h4 class="mb-0 font-size-3">Tổng cộng:</h4>
                  <div class="font-weight-medium">{{cart_subtotal | floatformat | intcomma}} ₫</div>
                </div>
                <div class="px-4 mb-8 px-md-6">
                  <a href="{% url 'cart' %}" class="btn btn-block py-4 rounded-0 btn-outline-dark mb-4">Xem giỏ hàng</a>
                  <a href="{% url 'checkout' %}" class="btn btn-block py-4 rounded-0 btn-dark">Thanh toán</a>
                </div>
                {% else %}
                <div class="px-4 py-5 px-md-6 border-bottom">
                  <div>Bạn chưa thêm sản phẩm nào vào giỏ hàng</div>
                </div>
                <div class="px-4 mb-8 px-md-6">
                  <a href="{% url 'shop' %}" class="btn btn-block py-4 rounded-0 btn-dark">Tiếp tục mua sắm</a>
                </div>
                {% endif %}
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </aside>


  {% block content %}{% endblock %}

  <footer>
    <div class="space-top-3">
      <div class="border-bottom pb-5 space-bottom-lg-3">
        <div class="container">
          <div class="row">
            <div class="col-lg-4 mb-6 md-md-0">
              <div class="pb-md-6">
                <a href="{% url 'home_page' %}" class="d-inline-block mb-5">
                  <svg width="94.94" height="23.19" viewBox="0 0 94.94 23.19" xmlns="http://www.w3.org/2000/svg">
                    <g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#ab8787"
                      strokeWidth="0.25mm" fill="#d945cc" style="stroke: #ab8787; stroke-width: 0.25mm; fill: #d945cc">
                      <path
                        d="M 45.78 22.83 L 43.08 22.83 L 43.08 0.63 L 45.78 0.63 L 45.78 9.72 Q 46.62 8.49 47.91 7.68 A 5.272 5.272 0 0 1 50.047 6.927 A 6.779 6.779 0 0 1 50.94 6.87 Q 52.956 6.87 54.194 7.797 A 3.978 3.978 0 0 1 54.885 8.46 A 5.521 5.521 0 0 1 55.966 10.673 Q 56.162 11.466 56.187 12.393 A 10.129 10.129 0 0 1 56.19 12.66 L 56.19 22.83 L 53.49 22.83 L 53.49 12.96 A 5.887 5.887 0 0 0 53.389 11.838 Q 53.21 10.913 52.71 10.26 A 2.526 2.526 0 0 0 50.863 9.256 A 3.594 3.594 0 0 0 50.52 9.24 A 3.969 3.969 0 0 0 48.506 9.8 A 5.276 5.276 0 0 0 47.895 10.215 Q 46.65 11.19 45.78 12.51 L 45.78 22.83 Z M 28.02 22.83 L 25.32 22.83 L 25.32 7.23 L 27.93 7.23 L 27.93 9.84 Q 28.77 8.58 30.075 7.725 A 5.195 5.195 0 0 1 32.207 6.938 A 6.789 6.789 0 0 1 33.18 6.87 Q 35.196 6.87 36.434 7.797 A 3.978 3.978 0 0 1 37.125 8.46 A 5.521 5.521 0 0 1 38.206 10.673 Q 38.402 11.466 38.427 12.393 A 10.129 10.129 0 0 1 38.43 12.66 L 38.43 22.83 L 35.73 22.83 L 35.73 12.96 A 5.779 5.779 0 0 0 35.627 11.838 Q 35.496 11.173 35.196 10.649 A 3.29 3.29 0 0 0 34.935 10.26 A 2.574 2.574 0 0 0 33.052 9.254 A 3.618 3.618 0 0 0 32.73 9.24 A 3.937 3.937 0 0 0 30.675 9.829 A 5.206 5.206 0 0 0 30.12 10.215 Q 28.89 11.19 28.02 12.51 L 28.02 22.83 Z M 2.52 21.54 L 2.52 22.83 L 0 22.83 L 0 0.63 L 2.7 0.63 L 2.7 8.85 A 4.653 4.653 0 0 1 3.266 8.307 Q 3.571 8.058 3.952 7.814 A 9.994 9.994 0 0 1 4.455 7.515 A 4.975 4.975 0 0 1 6.024 6.968 A 6.727 6.727 0 0 1 7.2 6.87 Q 9 6.87 10.575 7.815 A 6.699 6.699 0 0 1 12.728 9.905 A 8.239 8.239 0 0 1 13.11 10.545 A 7.705 7.705 0 0 1 13.859 12.657 Q 14.05 13.588 14.068 14.657 A 13.282 13.282 0 0 1 14.07 14.88 A 9.995 9.995 0 0 1 13.864 16.946 A 8.325 8.325 0 0 1 13.47 18.27 A 8.81 8.81 0 0 1 12.522 20.071 A 7.645 7.645 0 0 1 11.865 20.895 A 7.468 7.468 0 0 1 10.026 22.369 A 6.991 6.991 0 0 1 9.6 22.59 A 6.002 6.002 0 0 1 7.39 23.178 A 5.763 5.763 0 0 1 7.02 23.19 Q 5.67 23.19 4.485 22.695 A 9.082 9.082 0 0 1 3.494 22.213 Q 2.947 21.901 2.52 21.54 Z M 92.85 16.14 L 81.93 16.14 A 7.226 7.226 0 0 0 82.272 17.648 Q 82.673 18.791 83.46 19.56 A 4.243 4.243 0 0 0 85.747 20.703 A 6.006 6.006 0 0 0 86.79 20.79 A 11.019 11.019 0 0 0 88.073 20.719 A 8.273 8.273 0 0 0 89.22 20.505 Q 90.3 20.22 91.29 19.77 L 91.92 22.08 A 12.231 12.231 0 0 1 90.62 22.568 A 15.559 15.559 0 0 1 89.49 22.875 A 11.674 11.674 0 0 1 87.962 23.121 A 15.608 15.608 0 0 1 86.46 23.19 A 8.495 8.495 0 0 1 84.136 22.888 A 6.332 6.332 0 0 1 81.135 21.045 A 7.056 7.056 0 0 1 79.573 18.183 Q 79.17 16.784 79.17 15.03 A 10.608 10.608 0 0 1 79.42 12.683 A 8.652 8.652 0 0 1 80.055 10.845 A 7.393 7.393 0 0 1 81.56 8.72 A 6.866 6.866 0 0 1 82.53 7.935 Q 84.12 6.87 86.22 6.87 A 8.566 8.566 0 0 1 87.861 7.019 Q 88.864 7.215 89.665 7.668 A 5.164 5.164 0 0 1 89.955 7.845 Q 91.44 8.82 92.19 10.47 A 8.456 8.456 0 0 1 92.918 13.429 A 10.03 10.03 0 0 1 92.94 14.1 A 22.561 22.561 0 0 1 92.853 16.109 A 20.779 20.779 0 0 1 92.85 16.14 Z M 69.69 17.94 L 69.69 0.63 L 72.39 0.63 L 72.39 17.67 Q 72.39 18.642 72.633 19.312 A 2.392 2.392 0 0 0 73.065 20.07 A 2.209 2.209 0 0 0 74.44 20.813 A 3.217 3.217 0 0 0 74.94 20.85 Q 75.51 20.85 76.065 20.715 A 6.658 6.658 0 0 0 76.504 20.593 Q 76.785 20.504 77.01 20.4 L 77.67 22.59 A 5.445 5.445 0 0 1 77.189 22.775 Q 76.807 22.903 76.335 23.01 A 7.145 7.145 0 0 1 75.388 23.156 A 9.154 9.154 0 0 1 74.58 23.19 A 6.259 6.259 0 0 1 73.113 23.024 A 5.263 5.263 0 0 1 72.09 22.665 A 3.805 3.805 0 0 1 70.493 21.235 A 4.757 4.757 0 0 1 70.335 20.97 Q 69.69 19.8 69.69 17.94 Z M 20.52 22.83 L 17.82 22.83 L 17.82 7.23 L 20.52 7.23 L 20.52 22.83 Z M 2.7 11.25 L 2.7 19.59 A 5.397 5.397 0 0 0 3.789 20.246 A 6.541 6.541 0 0 0 4.32 20.46 A 5.839 5.839 0 0 0 6.169 20.789 A 6.611 6.611 0 0 0 6.3 20.79 A 5.097 5.097 0 0 0 7.805 20.575 A 4.424 4.424 0 0 0 8.895 20.07 A 4.785 4.785 0 0 0 10.44 18.447 A 5.894 5.894 0 0 0 10.665 18.03 A 6.26 6.26 0 0 0 11.219 16.216 A 8.243 8.243 0 0 0 11.31 14.97 Q 11.31 13.234 10.71 11.973 A 5.202 5.202 0 0 0 10.665 11.88 Q 10.02 10.59 8.955 9.9 Q 7.89 9.21 6.6 9.21 A 4.422 4.422 0 0 0 4.912 9.529 A 4.216 4.216 0 0 0 4.275 9.855 Q 3.24 10.5 2.7 11.25 Z M 81.9 13.95 L 90.45 13.95 A 7.307 7.307 0 0 0 90.329 12.574 Q 90.18 11.799 89.849 11.192 A 3.727 3.727 0 0 0 89.31 10.44 A 3.747 3.747 0 0 0 87.222 9.307 A 5.519 5.519 0 0 0 86.16 9.21 Q 84.42 9.21 83.28 10.425 Q 82.14 11.64 81.9 13.95 Z M 22.62 2.52 L 16.62 5.58 L 15.69 3.75 L 21.36 0 L 22.62 2.52 Z"
                        vectorEffect="non-scaling-stroke" />
                    </g>
                  </svg>
                </a>
                <address class="font-size-2 mb-5">
                  <span class="mb-2 font-weight-normal text-dark">
                    Km10 Nguyen Trai, Ha Dong, Ha Noi <br />
                    Vietnam
                  </span>
                </address>
                <div class="mb-4">
                  <a href="#" class="font-size-2 d-block link-black-100 mb-1">binhle@myself.com</a>
                  <a href="tel:+1246-345-0695" class="font-size-2 d-block link-black-100">+1 234-567-89</a>
                </div>
                <ul class="list-unstyled mb-0 d-flex">
                  <li class="btn pl-0">
                    <a class="link-black-100" href="#">
                      <span class="fab fa-instagram"></span>
                    </a>
                  </li>
                  <li class="btn">
                    <a class="link-black-100" href="#">
                      <span class="fab fa-facebook-f"></span>
                    </a>
                  </li>
                  <li class="btn">
                    <a class="link-black-100" href="#">
                      <span class="fab fa-youtube"></span>
                    </a>
                  </li>
                  <li class="btn">
                    <a class="link-black-100" href="#">
                      <span class="fab fa-twitter"></span>
                    </a>
                  </li>
                  <li class="btn">
                    <a class="link-black-100" href="#">
                      <span class="fab fa-pinterest"></span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-lg-2 mb-6 md-md-0">
              <h4 class="font-size-3 font-weight-medium mb-2 mb-xl-5 pb-xl-1">
                Khám phá
              </h4>
              <ul class="list-unstyled mb-0">
                <li class="pb-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Về chúng tôi</a>
                </li>
                <li class="py-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Sitemap</a>
                </li>
              </ul>
            </div>
            <div class="col-lg-2 mb-6 md-md-0">
              <h4 class="font-size-3 font-weight-medium mb-2 mb-xl-5 pb-xl-1">
                Chăm sóc khách hàng
              </h4>
              <ul class="list-unstyled mb-0">
                <li class="pb-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Trung tâm trợ
                    giúp</a>
                </li>
                <li class="py-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Yêu cầu hoàn tiền</a>
                </li>
                <li class="py-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Liên hệ với chúng
                    tôi</a>
                </li>
              </ul>
            </div>
            <div class="col-lg-2 mb-6 md-md-0">
              <h4 class="font-size-3 font-weight-medium mb-2 mb-xl-5 pb-xl-1">
                Chính sách
              </h4>
              <ul class="list-unstyled mb-0">
                <li class="pb-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Chính sách hoàn
                    tiền</a>
                </li>
                <li class="py-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Điều khoản sử
                    dụng</a>
                </li>
                <li class="py-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Bảo mật</a>
                </li>
                <li class="pt-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100" href="#">Quyền riêng tư</a>
                </li>
              </ul>
            </div>
            <div class="col-lg-2 mb-6 md-md-0">
              <h4 class="font-size-3 font-weight-medium mb-2 mb-xl-5 pb-xl-1">
                Thể loại
              </h4>
              <ul class="list-unstyled mb-0">
                {% for category in categories %}
                <li class="pb-2">
                  <a class="widgets-hover transition-3d-hover font-size-2 link-black-100"
                    href="{% url 'category_single' category.slug %}">{{category.name}}</a>
                </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="space-1">
        <div class="container">
          <div class="d-lg-flex text-center text-lg-left justify-content-between align-items-center">
            <p class="mb-3 mb-lg-0 font-size-2">
              ©2023 Tên gì cũng được. All rights reserved
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <script>
    document.querySelector('#searchForm button[type="submit"]').addEventListener('click', function (e) {
      e.preventDefault();
      let query = document.querySelector('#searchForm input[type="search"]').value
      if (query != '') {
        let form = document.querySelector('#searchForm')
        let action = document.querySelector('#searchForm select').value

        if (action != "") {
          form.action = form.action + action + "/"
        }
        form.submit()
      }

    })
  </script>
  {%if request.user.is_anonymous %}
  <script>
    $(document).on('ready', (e) => {
      $('#loginform').submit((e) => {
        e.preventDefault()
        let form = $('#loginform')
        $.ajax({
          url: form.attr('action'),
          method: 'POST',
          data: form.serialize(),
          beforeSend: function () {
            $('.loading-here').addClass("bg-loading")
            $(".loading-here").html(`<div class="spinner-border text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>`)
          },
          complete: function () {
            $('.loading-here').removeClass("bg-loading")
            $('.loading-here').empty()
          },
          success: () => {
            $('.error-login').text("Đăng nhập thành công, đang chuyển hướng ...")
            location.reload()
          },
          error: function (xhr, status, error) {
            if (xhr.status == 401) {
              $('.error-login').text(xhr.responseJSON['message'])
            }
          }
        })
      })
      $('#signupform').submit((e) => {
        e.preventDefault()
        let form = $('#signupform')
        $.ajax({
          url: form.attr('action'),
          method: 'POST',
          data: form.serialize(),
          beforeSend: function () {
            $('.loading-here').addClass("bg-loading")
            $(".loading-here").html(`<div class="spinner-border text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>`)
          },
          complete: function () {
            $('.loading-here').removeClass("bg-loading")
            $('.loading-here').empty()
          },
          success: () => {
            let count = 4
            let id = setInterval(() => {
              $('.error-register').text(`Đăng ký thành công, chuyển trang đăng nhập trong ${count}...`)
              count = count - 1
            }, 1000)
            setTimeout(() => {
              clearInterval(id)
              $('.error-register').text('')
              $('.btn-nav-login').click()
            }, 5000)
          },
          error: function (xhr, status, error) {
            if (xhr.status == 400) {
              $('.error-register').text(xhr.responseJSON['message'])
            }
          }
        })
      })
    })
  </script>
  {% endif %}
  <script>
    $(document).on('ready', function () {
      // initialization of unfold component
      $.HSCore.components.HSUnfold.init($('[data-unfold-target]'));

      // initialization of select picker
      $.HSCore.components.HSSelectPicker.init('.js-select');

      // initialization of slick carousel
      $.HSCore.components.HSSlickCarousel.init('.js-slick-carousel');

      // initialization of malihu scrollbar
      $.HSCore.components.HSMalihuScrollBar.init($('.js-scrollbar'));

      // initialization of quantity counter
      $.HSCore.components.HSQantityCounter.init('.js-quantity');

      // initialization of show animations
      $.HSCore.components.HSShowAnimation.init('.js-animation-link');

    });
  </script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</body>

</html>